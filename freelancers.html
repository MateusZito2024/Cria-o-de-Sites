<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="google-adsense-account" content="ca-pub-9426731634299392">
  <title>Asthro | Portal de Freelancers</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@700&family=Manrope:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://i.imgur.com/3HqwIPk.png">

  <style>
    /* ====== BASE ====== */
    *, *::before, *::after { box-sizing: border-box; }
    body {
      font-family: 'Manrope', sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background: transparent;
      width: 100%;
      color: #edf1f7;
    }

    nav, section, footer { position: relative; z-index: 1; pointer-events: none; }
    nav *, section *, footer * { pointer-events: auto; }

    #particles-js{
      position: fixed; inset: 0;
      width: 100%; height: 100%;
      z-index: 0; background: #111111;
    }

    .content-layer { position: relative; z-index: 2; }

    h2, h3 { font-family: 'Archivo', sans-serif; }

    .gradient-text{
      background: linear-gradient(135deg, #6627ff, #0bf4ed);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* ====== NAV (IGUAL AO SEU) ====== */
    .nav-link{
      font-family: 'Manrope', sans-serif;
      position: relative;
      text-decoration: none;
      color: #edf1f7;
      transition: color .3s ease;
      font-size: clamp(1rem, 3vw, 1.125rem);
    }
    .nav-link::after{
      content:'';
      position:absolute;
      width:0; height:2px;
      bottom:-4px; left:0;
      background: linear-gradient(135deg, #6627ff, #0bf4ed);
      transition: width .3s ease;
    }
    .nav-link:hover::after{ width:100%; }
    .nav-link:hover{ color:#0bf4ed; }

    nav{
      position: fixed;
      top:0; width:100%;
      z-index:10;
      background: transparent;
      box-shadow: 0 4px 6px rgba(0,0,0,.1);
      padding: 0 1rem;
    }
    nav > div{
      display:flex;
      justify-content:space-between;
      align-items:center;
      width:100%;
    }

    /* Hamburger */
    .hamburger{
      display:none;
      flex-direction:column;
      justify-content:space-around;
      width:2rem; height:2rem;
      background:transparent;
      border:none;
      cursor:pointer;
      padding:0;
      z-index:40;
    }
    .hamburger span{
      width:100%;
      height:3px;
      background:#edf1f7;
      transition:all .3s ease;
    }
    .hamburger.active span:nth-child(1){ transform: rotate(45deg) translate(5px,5px); }
    .hamburger.active span:nth-child(2){ opacity:0; }
    .hamburger.active span:nth-child(3){ transform: rotate(-45deg) translate(7px,-7px); }

    .nav-menu-mobile{
      position: fixed;
      top:0; right:-100%;
      height:100vh; width:100%;
      max-width:300px;
      background: rgba(17,17,17,0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-left: 1px solid rgba(102,39,255,0.5);
      flex-direction: column;
      justify-content:flex-start;
      align-items:center;
      gap: 1.5rem;
      transition: right .3s ease;
      z-index:30;
      display:flex;
      padding: 0 1rem;
      box-shadow: -5px 0 15px rgba(0,0,0,0.3);
    }
    .nav-menu-mobile.active{ right:0; }
    .nav-menu-mobile .nav-link:first-child{ margin-top: 6rem; }

    .nav-menu-mobile .nav-link{
      display:block;
      width:90%;
      padding: .8rem 1.5rem;
      border-radius: .75rem;
      background: rgba(102,39,255,0.1);
      color:#f8f8f8;
      text-align:center;
      font-size: clamp(1.125rem, 4vw, 1.3rem);
      font-weight:600;
      border:1px solid rgba(255,255,255,0.2);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: all .3s ease;
    }
    .nav-menu-mobile .nav-link:hover{
      background: linear-gradient(135deg, rgba(102,39,255,0.3), rgba(11,244,237,0.3));
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 8px 16px rgba(11,244,237,0.6);
      border-color:#0bf4ed;
    }
    .nav-menu-mobile .nav-link::after{ display:none; }

    /* Dropdown Ferramentas Desktop */
    .dropdown-menu{
      position:absolute;
      top:100%;
      left:50%;
      transform: translateX(-50%) translateY(10px);
      min-width:260px;
      background: rgba(255,255,255,0);
      backdrop-filter: blur(25px);
      -webkit-backdrop-filter: blur(25px);
      border: 2px solid #6627ff;
      border-radius: 1rem;
      padding: .75rem;
      z-index:50;
      opacity:0;
      visibility:hidden;
      transition: opacity .3s ease, visibility .3s ease, transform .3s ease;
    }
    .dropdown.active .dropdown-menu{
      opacity:1;
      visibility:visible;
      transform: translateX(-50%) translateY(5px);
    }
    .dropdown-link{
      display:block;
      padding: .8rem 1rem;
      color:#edf1f7;
      text-decoration:none;
      border-radius:.5rem;
      transition: all .3s ease;
      position:relative;
    }
    .dropdown-link::after{
      content:'';
      position:absolute;
      width:0;
      height:1px;
      bottom:0px;
      left:1rem;
      background: linear-gradient(135deg, #6627ff, #0bf4ed);
      transition: width .3s ease;
      max-width: calc(100% - 2rem);
    }
    .dropdown-link:hover::after{ width: calc(100% - 2rem); }
    .dropdown-link:hover{
      background: linear-gradient(90deg, rgba(102,39,255,0.2), rgba(11,244,237,0.2));
      color:#0bf4ed;
      transform: translateX(5px);
    }

    /* ====== PORTAL ASTHRO (NOVO) ====== */
    @keyframes floaty {
      0% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
      100% { transform: translateY(0); }
    }
    @keyframes glow {
      0% { box-shadow: 0 0 18px rgba(102,39,255,0.25); }
      50% { box-shadow: 0 0 28px rgba(11,244,237,0.32); }
      100% { box-shadow: 0 0 18px rgba(102,39,255,0.25); }
    }

    .glass-card{
      background: rgba(10,10,15,0.62);
      border: 1px solid rgba(11,244,237,0.22);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 1.25rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.55);
      overflow: hidden;
    }

    .neon-border{
      border: 1px solid rgba(102,39,255,0.45);
      box-shadow: 0 0 20px rgba(102,39,255,0.22), 0 0 8px rgba(11,244,237,0.18);
    }

    .chip{
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      padding: .35rem .6rem;
      border-radius: 999px;
      font-size: .75rem;
      color: #cbd5e1;
      white-space: nowrap;
    }

    .btn-astro{
      background: linear-gradient(135deg, #6627ff, #0bf4ed);
      border: 1px solid rgba(11,244,237,0.55);
      box-shadow: 0 0 14px rgba(102,39,255,0.35);
      transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
    }
    .btn-astro:hover{
      transform: translateY(-2px) scale(1.01);
      box-shadow: 0 0 24px rgba(11,244,237,0.55), 0 0 14px rgba(102,39,255,0.45);
      filter: brightness(1.05);
    }

    .btn-ghost{
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .btn-ghost:hover{
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.35);
    }

    .tab-btn{
      padding: .55rem 1rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      color: #e2e8f0;
      transition: all .25s ease;
      font-weight: 700;
      font-size: .9rem;
    }
    .tab-btn.active{
      background: linear-gradient(135deg, rgba(102,39,255,0.35), rgba(11,244,237,0.25));
      border-color: rgba(11,244,237,0.55);
      box-shadow: 0 0 22px rgba(11,244,237,0.18);
      color: #0bf4ed;
    }

    .input-astro{
      width:100%;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: .9rem;
      padding: .8rem 1rem;
      color:#edf1f7;
      outline:none;
      transition: border .2s ease, box-shadow .2s ease;
    }
    .input-astro:focus{
      border-color: rgba(11,244,237,0.65);
      box-shadow: 0 0 0 4px rgba(11,244,237,0.10);
    }

    .project-card{
      position: relative;
      border-radius: 1.25rem;
      overflow: hidden;
      background: rgba(31,41,55,0.55);
      border: 1px solid rgba(102,39,255,0.30);
      box-shadow: 0 12px 28px rgba(0,0,0,0.45);
      transition: transform .25s ease, box-shadow .25s ease, border .25s ease;
      animation: glow 4.5s ease-in-out infinite;
    }
    .project-card:hover{
      transform: translateY(-6px);
      border-color: rgba(11,244,237,0.55);
      box-shadow: 0 16px 34px rgba(0,0,0,0.55);
    }
    .project-card .top-line{
      height: 4px;
      width: 100%;
      background: linear-gradient(90deg, #6627ff, #0bf4ed);
      opacity: .9;
    }

    .badge-open{
      background: rgba(11,244,237,0.12);
      border: 1px solid rgba(11,244,237,0.30);
      color: #0bf4ed;
      padding: .25rem .6rem;
      border-radius: 999px;
      font-size: .75rem;
      font-weight: 800;
      letter-spacing: .02em;
    }

    .badge-closed{
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
      color: #cbd5e1;
      padding: .25rem .6rem;
      border-radius: 999px;
      font-size: .75rem;
      font-weight: 800;
      letter-spacing: .02em;
    }

    /* Modal */
    .modal-overlay{
      position: fixed;
      inset:0;
      background: rgba(0,0,0,0.72);
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 9999;
      padding: 1rem;
    }
    .modal-overlay.open{ display:flex; }

    .modal-box{
      width: min(920px, 100%);
      max-height: 90vh;
      overflow:auto;
      border-radius: 1.25rem;
      position: relative;
    }
    .modal-close{
      position:absolute;
      top: 12px;
      right: 14px;
      width: 42px; height: 42px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.06);
      color:#edf1f7;
      font-size: 1.4rem;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition: transform .2s ease, background .2s ease;
      z-index: 50;
    }
    .modal-close:hover{
      transform: scale(1.05);
      background: rgba(11,244,237,0.12);
    }

    /* Toast */
    .toast{
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(10,10,15,0.9);
      border: 1px solid rgba(11,244,237,0.30);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: .85rem 1.1rem;
      border-radius: 999px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.5);
      display:none;
      z-index: 99999;
      max-width: min(560px, 92vw);
      text-align: center;
      color: #e2e8f0;
      font-weight: 700;
    }
    .toast.show{ display:block; }

    /* Footer icons */
    .social-links-png{
      margin-top: 1rem;
      display:flex;
      justify-content:center;
      align-items:center;
      height: 50px;
    }
    .social-img-icon{
      width: 35px;
      height: 35px;
      transition: transform .3s ease, filter .3s ease;
      filter: brightness(85%);
      -webkit-user-drag: none;
      user-select:none;
    }
    .social-links-png a:hover .social-img-icon{
      transform: scale(1.15) rotate(2deg);
      filter: brightness(100%);
    }
    .social-links-png a:nth-child(1) .social-img-icon { width: 30px !important; height: 30px !important; }
    .social-links-png a:nth-child(2) .social-img-icon { width: 45px !important; height: 45px !important; }
    .social-links-png a:nth-child(3) .social-img-icon { width: 45px !important; height: 45px !important; }

    .social-links-png a:nth-child(1):hover .social-img-icon { filter: drop-shadow(0 0 10px #E1306C) brightness(100%); transform: scale(1.15) rotate(5deg); }
    .social-links-png a:nth-child(2):hover .social-img-icon { filter: drop-shadow(0 0 10px #0bf4ed) brightness(100%); transform: scale(1.15); }
    .social-links-png a:nth-child(3):hover .social-img-icon { filter: drop-shadow(0 0 10px #FF0000) brightness(100%); transform: scale(1.15) translateY(-2px); }

    /* Mobile */
    @media (max-width: 768px){
      nav { background: rgba(17,17,17,0.95); padding: .5rem 1rem; }
      nav .desktop-nav{ display:none; }
      .hamburger{ display:flex; }
    }
  </style>
</head>

<body class="text-gray-100">
  <div id="particles-js"></div>

  <!-- ===== NAV (IGUAL AO SEU) ===== -->
  <nav class="shadow-lg fixed w-full z-10">
    <div class="flex justify-between h-16 items-center">
      <div class="flex items-center content-layer">
        <img src="https://raw.githubusercontent.com/MateusZito2024/Cria-o-de-Sites/refs/heads/main/LOGO%20PNG.png"
             alt="Logo da Asthro" class="h-40 md:h-40" />
      </div>

      <button class="hamburger" aria-label="Toggle menu">
        <span></span><span></span><span></span>
      </button>

      <div class="flex items-center space-x-6 content-layer desktop-nav">
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/index.html" class="nav-link text-lg transition">In√≠cio</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/servi%C3%A7os.html" class="nav-link text-lg transition">Servi√ßos</a>

        <div class="relative dropdown" id="toolsDropdownContainer">
          <a href="#" id="toolsDropdownToggle" class="nav-link text-lg transition flex items-center gap-1 cursor-pointer select-none" aria-expanded="false">
            Ferramentas
            <svg class="dropdown-arrow w-4 h-4 ml-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <div id="toolsMenu" class="dropdown-menu">
            <a href="https://asthro.com.br/asthrocolors.html" class="dropdown-link">AsthroColors (Gerador de Paleta)</a>
            <a href="https://asthro.com.br/asthrospeed.html" class="dropdown-link">AsthroSpeed (An√°lise de Sites)</a>
            <a href="https://asthro.com.br/asthrozero.html" class="dropdown-link">AsthroZero (Removedor de Fundo)</a>
          </div>
        </div>

        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/sobre.html" class="nav-link text-lg transition">Sobre</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/portf%C3%B3lio.html" class="nav-link text-lg transition">Portf√≥lio</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/contato.html" class="nav-link text-lg transition">Contato</a>
        <a href="https://asthro.com.br/politicas.html" class="nav-link text-lg transition">Pol√≠ticas</a>

        <!-- Destaque do Portal -->
        <span class="ml-2 px-3 py-1 rounded-full text-xs font-extrabold"
              style="background:rgba(11,244,237,0.12); border:1px solid rgba(11,244,237,0.35); color:#0bf4ed;">
          Portal Freelancers
        </span>
      </div>

      <div class="nav-menu-mobile content-layer">
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/index.html" class="nav-link text-lg transition block">In√≠cio</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/servi%C3%A7os.html" class="nav-link text-lg transition block">Servi√ßos</a>
        <a href="https://asthro.com.br/asthrocolors.html" class="nav-link text-lg transition block">AsthroColors</a>
        <a href="https://asthro.com.br/asthrospeed.html" class="nav-link text-lg transition block">AsthroSpeed</a>
        <a href="https://asthro.com.br/asthrozero.html" class="nav-link text-lg transition block">AsthroZero</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/sobre.html" class="nav-link text-lg transition block">Sobre</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/portf%C3%B3lio.html" class="nav-link text-lg transition block">Portf√≥lio</a>
        <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/contato.html" class="nav-link text-lg transition block">Contato</a>
        <a href="https://asthro.com.br/politicas.html" class="nav-link text-lg transition block">Pol√≠ticas</a>
      </div>
    </div>
  </nav>

  <!-- ===== HERO ===== -->
  <section class="min-h-screen flex items-center pt-24 pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 content-layer w-full">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-center">

        <div class="lg:col-span-7">
          <div class="glass-card neon-border p-8 md:p-10">
            <div class="flex items-center gap-3 mb-4">
              <span class="chip">Asthro Network</span>
              <span class="chip">Trabalhos reais</span>
              <span class="chip">Vagas limitadas</span>
            </div>

            <h2 class="text-4xl md:text-6xl font-extrabold leading-tight">
              Portal de <span class="gradient-text">Freelancers</span><br />
              <span style="opacity:.9;">da Asthro</span>
            </h2>

            <p class="text-gray-300 text-lg md:text-xl mt-4 max-w-2xl">
              Entre, monte seu perfil e se inscreva em projetos premium publicados pela Asthro.
              Aqui a sele√ß√£o √© s√©ria: est√©tica, performance e profissionalismo.
            </p>

            <div class="mt-8 flex flex-col sm:flex-row gap-3">
              <button id="openAuthBtn" class="btn-astro px-6 py-3 rounded-full font-extrabold">
                Entrar / Criar Conta
              </button>

              <a href="#projects" class="btn-ghost px-6 py-3 rounded-full font-extrabold text-center">
                Ver Projetos
              </a>
            </div>

            <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4">
              <div class="glass-card p-4" style="animation: floaty 3.2s ease-in-out infinite;">
                <div class="text-sm text-gray-300">Projetos Ativos</div>
                <div id="statOpen" class="text-3xl font-extrabold gradient-text">--</div>
              </div>
              <div class="glass-card p-4" style="animation: floaty 3.8s ease-in-out infinite;">
                <div class="text-sm text-gray-300">Freelancers Online</div>
                <div id="statOnline" class="text-3xl font-extrabold gradient-text">--</div>
              </div>
              <div class="glass-card p-4" style="animation: floaty 4.4s ease-in-out infinite;">
                <div class="text-sm text-gray-300">Inscri√ß√µes</div>
                <div id="statApps" class="text-3xl font-extrabold gradient-text">--</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card do Usu√°rio -->
        <div class="lg:col-span-5">
          <div class="glass-card neon-border p-6 md:p-8">
            <div class="flex items-center justify-between gap-3">
              <div>
                <h3 class="text-2xl font-extrabold gradient-text">Seu Painel</h3>
                <p class="text-gray-300 mt-1 text-sm">
                  Logado, voc√™ pode editar perfil, salvar portf√≥lio e se inscrever em projetos.
                </p>
              </div>

              <div class="w-12 h-12 rounded-full flex items-center justify-center"
                   style="background:rgba(11,244,237,0.12); border:1px solid rgba(11,244,237,0.25);">
                <span style="color:#0bf4ed; font-weight:900;">A</span>
              </div>
            </div>

            <div id="userBox" class="mt-6">
              <!-- Renderizado pelo JS -->
              <div class="text-gray-300 text-sm">
                Voc√™ ainda n√£o est√° logado. Clique em <span class="gradient-text font-extrabold">Entrar / Criar Conta</span>
                para come√ßar.
              </div>
            </div>

            <div class="mt-6 flex gap-3">
              <button id="btnMyArea" class="btn-ghost px-5 py-3 rounded-full font-extrabold w-full" disabled>
                Minha √Årea
              </button>
              <button id="btnLogout" class="btn-ghost px-5 py-3 rounded-full font-extrabold w-full" disabled>
                Sair
              </button>
            </div>

            <div class="mt-6 p-4 rounded-xl"
                 style="background: rgba(102,39,255,0.08); border:1px dashed rgba(102,39,255,0.4);">
              <div class="text-sm text-gray-200 font-extrabold mb-1">Dica Asthro</div>
              <div class="text-sm text-gray-300">
                Complete seu perfil com <span class="gradient-text font-extrabold">portf√≥lio + skills</span>.
                Isso aumenta muito sua chance de ser selecionado.
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ===== √ÅREA LOGADA ===== -->
  <section id="memberArea" class="py-14 hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 content-layer">
      <div class="glass-card neon-border p-6 md:p-8">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
          <div>
            <h2 class="text-3xl md:text-4xl font-extrabold">
              √Årea do <span class="gradient-text">Freelancer</span>
            </h2>
            <p class="text-gray-300 mt-1">
              Gerencie suas inscri√ß√µes, perfil e prefer√™ncias.
            </p>
          </div>

          <div class="flex flex-wrap gap-2">
            <button class="tab-btn active" data-tab="tabProjects">Projetos</button>
            <button class="tab-btn" data-tab="tabApplications">Minhas Inscri√ß√µes</button>
            <button class="tab-btn" data-tab="tabProfile">Meu Perfil</button>
          </div>
        </div>

        <!-- Tabs -->
        <div class="mt-6">
          <!-- TAB: PROJECTS -->
          <div id="tabProjects" class="tab-panel">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-5">
              <div class="lg:col-span-4">
                <div class="glass-card p-5">
                  <h3 class="text-xl font-extrabold gradient-text">Filtro Inteligente</h3>
                  <p class="text-gray-300 text-sm mt-1">
                    Ache os projetos que mais combinam com seu estilo.
                  </p>

                  <div class="mt-4 space-y-3">
                    <input id="searchInput" class="input-astro" placeholder="Buscar (ex: Landing Page, Motion, Branding...)" />

                    <select id="categoryFilter" class="input-astro">
                      <option value="">Categoria (todas)</option>
                      <option value="Design">Design</option>
                      <option value="Web">Web</option>
                      <option value="Social Media">Social Media</option>
                      <option value="Motion">Motion</option>
                      <option value="Branding">Branding</option>
                    </select>

                    <select id="levelFilter" class="input-astro">
                      <option value="">N√≠vel (todos)</option>
                      <option value="Iniciante">Iniciante</option>
                      <option value="Intermedi√°rio">Intermedi√°rio</option>
                      <option value="Avan√ßado">Avan√ßado</option>
                    </select>

                    <select id="typeFilter" class="input-astro">
                      <option value="">Tipo (todos)</option>
                      <option value="Remoto">Remoto</option>
                      <option value="H√≠brido">H√≠brido</option>
                      <option value="Presencial">Presencial</option>
                    </select>

                    <button id="btnApplyFilters" class="btn-astro w-full px-6 py-3 rounded-full font-extrabold">
                      Aplicar filtros
                    </button>

                    <button id="btnClearFilters" class="btn-ghost w-full px-6 py-3 rounded-full font-extrabold">
                      Limpar filtros
                    </button>
                  </div>

                  <div class="mt-5 p-4 rounded-xl"
                       style="background: rgba(11,244,237,0.06); border:1px solid rgba(11,244,237,0.20);">
                    <div class="text-sm font-extrabold" style="color:#0bf4ed;">Como a Asthro seleciona?</div>
                    <div class="text-sm text-gray-300 mt-1">
                      Qualidade visual + consist√™ncia + portf√≥lio + alinhamento com o projeto.
                    </div>
                  </div>
                </div>
              </div>

              <div class="lg:col-span-8">
                <div class="flex items-center justify-between flex-wrap gap-3 mb-4">
                  <h3 id="projectsTitle" class="text-2xl font-extrabold gradient-text">Vitrine de Projetos</h3>

                  <div class="flex gap-2">
                    <button id="btnRefreshProjects" class="btn-ghost px-5 py-3 rounded-full font-extrabold">
                      Atualizar
                    </button>
                    <a href="#projects" class="btn-astro px-5 py-3 rounded-full font-extrabold">
                      Ver Lista
                    </a>
                  </div>
                </div>

                <div id="projectsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-5">
                  <!-- Cards via JS -->
                </div>

                <div id="projectsEmpty" class="hidden mt-6 text-center text-gray-300">
                  Nenhum projeto encontrado com esses filtros.
                </div>
              </div>
            </div>
          </div>

          <!-- TAB: APPLICATIONS -->
          <div id="tabApplications" class="tab-panel hidden">
            <div class="glass-card p-6">
              <h3 class="text-2xl font-extrabold gradient-text">Minhas Inscri√ß√µes</h3>
              <p class="text-gray-300 mt-1">Aqui ficam seus projetos inscritos.</p>

              <div id="appsList" class="mt-5 grid grid-cols-1 gap-4">
                <!-- Itens via JS -->
              </div>

              <div id="appsEmpty" class="hidden mt-5 text-center text-gray-300">
                Voc√™ ainda n√£o se inscreveu em nenhum projeto.
              </div>
            </div>
          </div>

          <!-- TAB: PROFILE -->
          <div id="tabProfile" class="tab-panel hidden">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-5">
              <div class="lg:col-span-5">
                <div class="glass-card p-6">
                  <h3 class="text-2xl font-extrabold gradient-text">Seu Perfil</h3>
                  <p class="text-gray-300 mt-1 text-sm">
                    Esses dados ajudam a Asthro a te selecionar mais r√°pido.
                  </p>

                  <div class="mt-4 space-y-3">
                    <input id="profileName" class="input-astro" placeholder="Seu nome (ex: Mateus Sena)" />
                    <input id="profileRole" class="input-astro" placeholder="Sua √°rea (ex: Web Designer / Motion / Dev)" />
                    <input id="profilePortfolio" class="input-astro" placeholder="Link do portf√≥lio (Behance, Site, Drive...)" />
                    <input id="profileSkills" class="input-astro" placeholder="Skills (ex: Figma, After Effects, React...)" />
                    <textarea id="profileBio" class="input-astro" rows="4" placeholder="Bio r√°pida (seu estilo, experi√™ncia, etc.)"></textarea>

                    <button id="btnSaveProfile" class="btn-astro w-full px-6 py-3 rounded-full font-extrabold">
                      Salvar Perfil
                    </button>
                  </div>

                  <div class="mt-4 text-xs text-gray-400">
                    üîí Seus dados ficam salvos no seu usu√°rio (Firestore).
                  </div>
                </div>
              </div>

              <div class="lg:col-span-7">
                <div class="glass-card p-6">
                  <h3 class="text-2xl font-extrabold gradient-text">Preview do seu Cart√£o</h3>
                  <p class="text-gray-300 mt-1">Como a Asthro ver√° voc√™ dentro do sistema.</p>

                  <div class="mt-5 p-6 rounded-2xl"
                       style="background: linear-gradient(135deg, rgba(102,39,255,0.15), rgba(11,244,237,0.08));
                              border:1px solid rgba(11,244,237,0.18);">
                    <div class="flex items-start justify-between gap-4">
                      <div>
                        <div id="previewName" class="text-2xl font-extrabold">Seu nome aqui</div>
                        <div id="previewRole" class="text-gray-300 mt-1">Sua √°rea aqui</div>

                        <div class="mt-3 flex flex-wrap gap-2" id="previewChips">
                          <span class="chip">skills</span>
                          <span class="chip">portfolio</span>
                          <span class="chip">Asthro standard</span>
                        </div>
                      </div>

                      <div class="w-16 h-16 rounded-full flex items-center justify-center"
                           style="background: rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.12);">
                        <span class="gradient-text font-extrabold text-2xl">‚òÖ</span>
                      </div>
                    </div>

                    <div id="previewBio" class="text-gray-300 mt-4 text-sm">
                      Uma bio bem escrita te destaca. Mostre sua for√ßa: est√©tica, t√©cnica e entrega.
                    </div>

                    <div class="mt-4 flex gap-3 flex-wrap">
                      <a id="previewPortfolio" href="#" target="_blank"
                         class="btn-ghost px-5 py-2 rounded-full font-extrabold text-sm hidden">
                        Abrir Portf√≥lio
                      </a>
                      <span class="chip">Atualizado automaticamente</span>
                    </div>
                  </div>

                  <div class="mt-5 p-4 rounded-xl"
                       style="background: rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.10);">
                    <div class="text-sm text-gray-200 font-extrabold">Seja Selecionado Mais R√°pido</div>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1 list-disc ml-5">
                      <li>Portf√≥lio atualizado e com projetos reais</li>
                      <li>Bio objetiva e profissional</li>
                      <li>Skills alinhadas com a vaga</li>
                      <li>Responda r√°pido quando a Asthro chamar</li>
                    </ul>
                  </div>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- ===== LISTA P√öBLICA DE PROJETOS (mesmo deslogado v√™) ===== -->
  <section id="projects" class="py-14">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 content-layer">
      <div class="text-center mb-10">
        <h2 class="text-4xl md:text-5xl font-extrabold gradient-text">Projetos Publicados</h2>
        <p class="text-gray-300 mt-3 max-w-3xl mx-auto">
          Abaixo est√£o os projetos dispon√≠veis. Para se inscrever, basta criar sua conta no portal.
        </p>
      </div>

      <div class="glass-card neon-border p-6 md:p-8">
        <div class="flex items-center justify-between flex-wrap gap-3 mb-4">
          <div class="flex items-center gap-2">
            <span class="chip">Vitrine</span>
            <span class="chip">Acesso premium</span>
          </div>
          <button id="btnPublicRefresh" class="btn-ghost px-5 py-3 rounded-full font-extrabold">
            Atualizar lista
          </button>
        </div>

        <div id="publicProjectsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
          <!-- Cards via JS -->
        </div>

        <div id="publicEmpty" class="hidden mt-6 text-center text-gray-300">
          Nenhum projeto ativo agora. Volte em breve!
        </div>
      </div>
    </div>
  </section>

  <!-- ===== MODAL: DETALHES DO PROJETO ===== -->
  <div id="projectModal" class="modal-overlay">
    <div class="modal-box glass-card neon-border">
      <button class="modal-close" id="closeProjectModal">√ó</button>

      <div class="p-6 md:p-8">
        <div class="flex flex-col md:flex-row md:items-start justify-between gap-4">
          <div>
            <div class="flex items-center gap-2">
              <span id="modalStatus" class="badge-open">ABERTO</span>
              <span id="modalCategory" class="chip">Categoria</span>
              <span id="modalType" class="chip">Remoto</span>
              <span id="modalLevel" class="chip">Intermedi√°rio</span>
            </div>
            <h3 id="modalTitle" class="text-3xl md:text-4xl font-extrabold mt-3 gradient-text">T√≠tulo</h3>
            <p id="modalShort" class="text-gray-300 mt-3 text-base md:text-lg">Descri√ß√£o curta</p>
          </div>

          <div class="flex flex-col gap-2 min-w-[240px]">
            <div class="glass-card p-4">
              <div class="text-xs text-gray-300">Or√ßamento</div>
              <div id="modalBudget" class="text-2xl font-extrabold gradient-text">R$ --</div>
            </div>
            <div class="glass-card p-4">
              <div class="text-xs text-gray-300">Prazo</div>
              <div id="modalDeadline" class="text-xl font-extrabold text-gray-100">--</div>
            </div>
          </div>
        </div>

        <div class="mt-6 grid grid-cols-1 lg:grid-cols-12 gap-5">
          <div class="lg:col-span-8">
            <div class="glass-card p-5">
              <h4 class="text-xl font-extrabold gradient-text">Detalhes</h4>
              <p id="modalDescription" class="text-gray-300 mt-2 leading-relaxed">
                Conte√∫do do projeto...
              </p>

              <div class="mt-4">
                <div class="text-sm text-gray-200 font-extrabold">Skills desejadas</div>
                <div id="modalSkills" class="mt-2 flex flex-wrap gap-2">
                  <span class="chip">Skill</span>
                </div>
              </div>
            </div>
          </div>

          <div class="lg:col-span-4">
            <div class="glass-card p-5">
              <h4 class="text-xl font-extrabold gradient-text">Inscri√ß√£o</h4>
              <p class="text-gray-300 text-sm mt-2">
                Envie uma mini mensagem e um link do seu portf√≥lio.
              </p>

              <div class="mt-4 space-y-3">
                <input id="applyPortfolio" class="input-astro" placeholder="Seu portf√≥lio (opcional)" />
                <textarea id="applyMessage" class="input-astro" rows="4" placeholder="Mensagem (ex: por que voc√™ √© ideal?)"></textarea>

                <button id="btnApplyProject" class="btn-astro w-full px-6 py-3 rounded-full font-extrabold">
                  Inscrever-se nesse Projeto
                </button>

                <button id="btnOpenAuthInsideModal" class="btn-ghost w-full px-6 py-3 rounded-full font-extrabold hidden">
                  Fazer Login para se Inscrever
                </button>
              </div>

              <div class="mt-4 text-xs text-gray-400">
                ‚ö° Inscri√ß√µes ficam registradas no sistema.
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- ===== AUTH MODAL ===== -->
  <div id="authModal" class="modal-overlay">
    <div class="modal-box glass-card neon-border">
      <button class="modal-close" id="closeAuthModal">√ó</button>

      <div class="p-6 md:p-8">
        <div class="flex items-center justify-between flex-wrap gap-3">
          <div>
            <h3 class="text-3xl font-extrabold gradient-text">Acessar Portal</h3>
            <p class="text-gray-300 mt-1">Entre com sua conta ou crie uma nova em segundos.</p>
          </div>
          <div class="flex gap-2">
            <button id="modeLogin" class="tab-btn active">Login</button>
            <button id="modeRegister" class="tab-btn">Criar conta</button>
          </div>
        </div>

        <div class="mt-6 grid grid-cols-1 lg:grid-cols-12 gap-5">
          <div class="lg:col-span-7">
            <div class="glass-card p-6">
              <div class="space-y-3">
                <input id="authName" class="input-astro hidden" placeholder="Seu nome (para cadastro)" />
                <input id="authEmail" class="input-astro" placeholder="Seu e-mail" />
                <input id="authPass" class="input-astro" type="password" placeholder="Sua senha" />
              </div>

              <div class="mt-5 flex flex-col gap-3">
                <button id="btnAuthMain" class="btn-astro w-full px-6 py-3 rounded-full font-extrabold">
                  Entrar
                </button>

                <button id="btnGoogle" class="btn-ghost w-full px-6 py-3 rounded-full font-extrabold">
                  Entrar com Google
                </button>
              </div>

              <div class="mt-4 text-xs text-gray-400">
                üîí Autentica√ß√£o segura com Firebase Auth.
              </div>
            </div>
          </div>

          <div class="lg:col-span-5">
            <div class="glass-card p-6">
              <h4 class="text-xl font-extrabold gradient-text">Padr√£o Asthro</h4>
              <p class="text-gray-300 text-sm mt-2">
                O portal foi criado para manter o alto n√≠vel de qualidade e est√©tica em cada entrega.
              </p>

              <div class="mt-4 space-y-2">
                <div class="chip">Interface premium</div>
                <div class="chip">Projetos selecionados</div>
                <div class="chip">Inscri√ß√£o organizada</div>
                <div class="chip">Perfil profissional</div>
              </div>

              <div class="mt-5 p-4 rounded-xl"
                   style="background: rgba(102,39,255,0.08); border:1px solid rgba(102,39,255,0.25);">
                <div class="text-sm font-extrabold text-gray-100">Importante</div>
                <div class="text-sm text-gray-300 mt-1">
                  Se voc√™ ainda n√£o configurou o Firebase, o portal funciona em <b>modo DEMO</b>.
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>

  <!-- ===== TOAST ===== -->
  <div id="toast" class="toast">Mensagem</div>

  <!-- ===== FOOTER (IGUAL AO SEU) ===== -->
  <footer class="py-12">
    <div class="max-w-7xl mx-auto px-4 content-layer">
      <div class="flex flex-col items-center">
        <div class="social-links-png flex justify-center space-x-6 mb-8">
          <a href="https://www.instagram.com/agencia_asthro/" target="_blank"><img src="https://i.imgur.com/ztvOJV3.png" class="social-img-icon" /></a>
          <a href="https://www.tiktok.com/@asthroagencia" target="_blank"><img src="https://i.imgur.com/yrBBMaJ.png" class="social-img-icon" /></a>
          <a href="https://www.youtube.com/@asthroag%C3%AAncia" target="_blank"><img src="https://i.imgur.com/0vJwT4o.png" class="social-img-icon" /></a>
        </div>

        <div class="bg-white/5 border border-white/10 backdrop-blur-md rounded-full px-6 py-2 flex flex-col md:flex-row items-center gap-4 shadow-xl">
          <p class="text-[10px] md:text-xs text-gray-300 tracking-widest uppercase">
            Asthro <span class="mx-2 text-cyan-400">|</span> 64.229.666/0001-07
          </p>
        </div>

        <p class="mt-4 text-[10px] text-gray-500 uppercase tracking-tighter">¬© 2026 ‚Ä¢ Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- ====== SCRIPTS ====== -->
  <script>
    // Part√≠culas (igual ao seu)
    particlesJS('particles-js', {
      particles: {
        number: { value: window.innerWidth <= 768 ? 90 : 200, density: { enable: true, value_area: 800 } },
        color: { value: ['#6627ff', '#0bf4ed', '#30fca9'] },
        shape: { type: 'circle' },
        opacity: { value: 0.8, random: false },
        size: { value: 4, random: true },
        line_linked: { enable: true, distance: 120, color: '#0bf4ed', opacity: 0.6, width: 1 },
        move: { enable: true, speed: 1, direction: 'none', random: true, straight: false, out_mode: 'out', bounce: false }
      },
      interactivity: {
        detect_on: 'canvas',
        events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
        modes: { repulse: { distance: 50, duration: 0.1 }, push: { particles_nb: 6 } }
      },
      retina_detect: true
    });

    // Menu mobile
    const hamburger = document.querySelector('.hamburger');
    const navMenu = document.querySelector('.nav-menu-mobile');
    function toggleMenu() {
      hamburger.classList.toggle('active');
      navMenu.classList.toggle('active');
      document.body.style.overflowY = navMenu.classList.contains('active') ? 'hidden' : 'auto';
    }
    hamburger.addEventListener('click', toggleMenu);
    document.addEventListener('click', (e) => {
      if (!hamburger.contains(e.target) && !navMenu.contains(e.target) && navMenu.classList.contains('active')) {
        toggleMenu();
      }
    });

    // Dropdown Ferramentas (desktop)
    const toolsDropdownContainer = document.getElementById('toolsDropdownContainer');
    const toolsToggle = document.getElementById('toolsDropdownToggle');
    const toolsMenu = document.getElementById('toolsMenu');
    const toolsArrow = toolsToggle.querySelector('svg');

    toolsToggle.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      const isOpen = toolsDropdownContainer.classList.contains('active');
      if (!isOpen) {
        toolsDropdownContainer.classList.add('active');
        toolsArrow.style.transform = 'rotate(180deg)';
        toolsToggle.setAttribute('aria-expanded','true');
      } else {
        toolsDropdownContainer.classList.remove('active');
        toolsArrow.style.transform = '';
        toolsToggle.setAttribute('aria-expanded','false');
      }
    });
    document.addEventListener('click', function() {
      if (toolsDropdownContainer.classList.contains('active')) {
        toolsDropdownContainer.classList.remove('active');
        toolsArrow.style.transform = '';
        toolsToggle.setAttribute('aria-expanded','false');
      }
    });
    toolsMenu.addEventListener('click', (e) => e.stopPropagation());

    // Toast
    const toastEl = document.getElementById('toast');
    let toastTimer = null;
    function showToast(msg){
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toastEl.classList.remove('show'), 2600);
    }
  </script>

  <!-- ====== FIREBASE + PORTAL LOGIC ====== -->
  <script type="module">
    /**
     * ‚úÖ ESTE PORTAL FUNCIONA DE 2 JEITOS:
     * 1) MODO DEMO (sem Firebase configurado) -> mostra projetos fict√≠cios e login fake
     * 2) MODO REAL (com Firebase Auth + Firestore) -> login real e projetos do banco
     */

    // ====== 1) CONFIGURE AQUI O SEU FIREBASE ======
    // üëâ V√° em Firebase Console > Configura√ß√µes do projeto > Seus apps > Web
    const firebaseConfig = {
      apiKey: "SUA_API_KEY_AQUI",
      authDomain: "SEU_AUTH_DOMAIN_AQUI",
      projectId: "SEU_PROJECT_ID_AQUI",
      storageBucket: "SEU_STORAGE_BUCKET_AQUI",
      messagingSenderId: "SEU_MESSAGING_SENDER_ID_AQUI",
      appId: "SEU_APP_ID_AQUI"
    };

    const isFirebaseReady = !!firebaseConfig.apiKey && !firebaseConfig.apiKey.includes("SUA_");

    // Imports Firebase (somente se for usar real)
    let app, auth, db;
    let createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut;
    let GoogleAuthProvider, signInWithPopup, updateProfile;
    let getFirestore, collection, getDocs, query, where, orderBy, addDoc, serverTimestamp, doc, setDoc, getDoc;

    if (isFirebaseReady) {
      const fbApp = await import("https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js");
      const fbAuth = await import("https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js");
      const fbDb = await import("https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js");

      ({ initializeApp } = fbApp);
      ({ getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, GoogleAuthProvider, signInWithPopup, updateProfile } = fbAuth);
      ({ getFirestore, collection, getDocs, query, where, orderBy, addDoc, serverTimestamp, doc, setDoc, getDoc } = fbDb);

      app = initializeApp(firebaseConfig);
      auth = getAuth(app);
      db = getFirestore(app);
    }

    // ====== 2) ELEMENTOS ======
    const openAuthBtn = document.getElementById('openAuthBtn');
    const authModal = document.getElementById('authModal');
    const closeAuthModal = document.getElementById('closeAuthModal');

    const modeLogin = document.getElementById('modeLogin');
    const modeRegister = document.getElementById('modeRegister');
    const authName = document.getElementById('authName');
    const authEmail = document.getElementById('authEmail');
    const authPass = document.getElementById('authPass');
    const btnAuthMain = document.getElementById('btnAuthMain');
    const btnGoogle = document.getElementById('btnGoogle');

    const userBox = document.getElementById('userBox');
    const btnMyArea = document.getElementById('btnMyArea');
    const btnLogout = document.getElementById('btnLogout');
    const memberArea = document.getElementById('memberArea');

    const publicProjectsGrid = document.getElementById('publicProjectsGrid');
    const publicEmpty = document.getElementById('publicEmpty');
    const btnPublicRefresh = document.getElementById('btnPublicRefresh');

    const projectsGrid = document.getElementById('projectsGrid');
    const projectsEmpty = document.getElementById('projectsEmpty');
    const btnRefreshProjects = document.getElementById('btnRefreshProjects');

    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const levelFilter = document.getElementById('levelFilter');
    const typeFilter = document.getElementById('typeFilter');
    const btnApplyFilters = document.getElementById('btnApplyFilters');
    const btnClearFilters = document.getElementById('btnClearFilters');

    const statOpen = document.getElementById('statOpen');
    const statOnline = document.getElementById('statOnline');
    const statApps = document.getElementById('statApps');

    // Tabs
    const tabButtons = document.querySelectorAll('.tab-btn[data-tab]');
    const tabPanels = document.querySelectorAll('.tab-panel');

    // Modal Projeto
    const projectModal = document.getElementById('projectModal');
    const closeProjectModal = document.getElementById('closeProjectModal');
    const modalStatus = document.getElementById('modalStatus');
    const modalCategory = document.getElementById('modalCategory');
    const modalType = document.getElementById('modalType');
    const modalLevel = document.getElementById('modalLevel');
    const modalTitle = document.getElementById('modalTitle');
    const modalShort = document.getElementById('modalShort');
    const modalBudget = document.getElementById('modalBudget');
    const modalDeadline = document.getElementById('modalDeadline');
    const modalDescription = document.getElementById('modalDescription');
    const modalSkills = document.getElementById('modalSkills');

    const applyPortfolio = document.getElementById('applyPortfolio');
    const applyMessage = document.getElementById('applyMessage');
    const btnApplyProject = document.getElementById('btnApplyProject');
    const btnOpenAuthInsideModal = document.getElementById('btnOpenAuthInsideModal');

    // Profile
    const profileName = document.getElementById('profileName');
    const profileRole = document.getElementById('profileRole');
    const profilePortfolio = document.getElementById('profilePortfolio');
    const profileSkills = document.getElementById('profileSkills');
    const profileBio = document.getElementById('profileBio');
    const btnSaveProfile = document.getElementById('btnSaveProfile');

    const previewName = document.getElementById('previewName');
    const previewRole = document.getElementById('previewRole');
    const previewChips = document.getElementById('previewChips');
    const previewBio = document.getElementById('previewBio');
    const previewPortfolio = document.getElementById('previewPortfolio');

    const appsList = document.getElementById('appsList');
    const appsEmpty = document.getElementById('appsEmpty');

    // ====== 3) DEMO DATA ======
    const demoProjects = [
      {
        id: "demo-1",
        status: "open",
        title: "Landing Page Premium (Alta convers√£o)",
        short: "Cria√ß√£o de landing page com est√©tica premium, responsiva e r√°pida.",
        description: "Projeto para criar uma landing page com visual premium, anima√ß√µes suaves, copy organizada e foco total em convers√£o. Prefer√™ncia por estilo dark + neon. Entrega com performance e SEO b√°sico.",
        category: "Web",
        type: "Remoto",
        level: "Intermedi√°rio",
        budgetMin: 900,
        budgetMax: 1600,
        deadline: "7 dias",
        skills: ["HTML", "Tailwind", "UX", "Copy", "Performance"]
      },
      {
        id: "demo-2",
        status: "open",
        title: "Identidade Visual (Branding + Manual)",
        short: "Marca completa com paleta, tipografia e guia de uso.",
        description: "Rebranding para empresa do nicho premium. Precisamos de uma marca limpa, moderna, com assinatura forte. Entrega: logo, varia√ß√µes, paleta, tipografia e manual curto.",
        category: "Branding",
        type: "Remoto",
        level: "Avan√ßado",
        budgetMin: 1200,
        budgetMax: 2500,
        deadline: "10 dias",
        skills: ["Illustrator", "Branding", "Grid", "Manual", "Apresenta√ß√£o"]
      },
      {
        id: "demo-3",
        status: "open",
        title: "Pacote Social Media (12 posts + 6 stories)",
        short: "Artes consistentes com est√©tica clean e moderna.",
        description: "Cria√ß√£o de kit social media com est√©tica premium e identidade bem alinhada. Layouts minimalistas e com varia√ß√µes, mantendo consist√™ncia visual.",
        category: "Social Media",
        type: "Remoto",
        level: "Iniciante",
        budgetMin: 450,
        budgetMax: 900,
        deadline: "5 dias",
        skills: ["Design", "Canva/PS", "Tipografia", "Dire√ß√£o de Arte"]
      },
      {
        id: "demo-4",
        status: "closed",
        title: "Motion Reel (Intro + Lower Third)",
        short: "Motion clean e impactante, com neon sutil.",
        description: "Projeto de motion curto com intro de 4-6s + lower thirds. Dire√ß√£o: futurista, neon controlado, sem exagero.",
        category: "Motion",
        type: "Remoto",
        level: "Intermedi√°rio",
        budgetMin: 700,
        budgetMax: 1400,
        deadline: "6 dias",
        skills: ["After Effects", "Motion", "SFX", "Timing"]
      },
    ];

    // ====== 4) ESTADO ======
    let currentUser = null;
    let allProjects = [];
    let currentProject = null;

    // ====== 5) MODAIS ======
    function openModal(el){ el.classList.add('open'); }
    function closeModal(el){ el.classList.remove('open'); }

    openAuthBtn.addEventListener('click', () => openModal(authModal));
    closeAuthModal.addEventListener('click', () => closeModal(authModal));
    authModal.addEventListener('click', (e) => { if(e.target === authModal) closeModal(authModal); });

    closeProjectModal.addEventListener('click', () => closeModal(projectModal));
    projectModal.addEventListener('click', (e) => { if(e.target === projectModal) closeModal(projectModal); });

    btnOpenAuthInsideModal.addEventListener('click', () => {
      closeModal(projectModal);
      openModal(authModal);
    });

    // ====== 6) AUTH UI ======
    let authMode = "login";

    function setAuthMode(mode){
      authMode = mode;
      if (mode === "login"){
        modeLogin.classList.add('active');
        modeRegister.classList.remove('active');
        authName.classList.add('hidden');
        btnAuthMain.textContent = "Entrar";
      } else {
        modeRegister.classList.add('active');
        modeLogin.classList.remove('active');
        authName.classList.remove('hidden');
        btnAuthMain.textContent = "Criar conta";
      }
    }

    modeLogin.addEventListener('click', () => setAuthMode("login"));
    modeRegister.addEventListener('click', () => setAuthMode("register"));

    // ====== 7) RENDER USER BOX ======
    function renderUserBox(){
      if (!currentUser){
        userBox.innerHTML = `
          <div class="text-gray-300 text-sm">
            Voc√™ ainda n√£o est√° logado. Clique em <span class="gradient-text font-extrabold">Entrar / Criar Conta</span> para come√ßar.
          </div>
        `;
        btnMyArea.disabled = true;
        btnLogout.disabled = true;
        memberArea.classList.add('hidden');
        return;
      }

      const displayName = currentUser.displayName || "Freelancer Asthro";
      const email = currentUser.email || "--";

      userBox.innerHTML = `
        <div class="glass-card p-4">
          <div class="text-sm text-gray-300">Logado como</div>
          <div class="text-2xl font-extrabold gradient-text mt-1">${escapeHtml(displayName)}</div>
          <div class="text-sm text-gray-300 mt-1">${escapeHtml(email)}</div>
        </div>
        <div class="mt-3 text-xs text-gray-400">
          Voc√™ j√° pode se inscrever nos projetos e editar seu perfil.
        </div>
      `;
      btnMyArea.disabled = false;
      btnLogout.disabled = false;
      memberArea.classList.remove('hidden');
    }

    btnMyArea.addEventListener('click', () => {
      if (!currentUser) return showToast("Fa√ßa login para acessar sua √°rea.");
      memberArea.scrollIntoView({ behavior: "smooth" });
    });

    // ====== 8) RENDER PROJECTS ======
    function formatBRL(min, max){
      if (!min && !max) return "A combinar";
      const fmt = (v) => Number(v).toLocaleString('pt-BR', { style:'currency', currency:'BRL' });
      if (min && max) return `${fmt(min)} ‚Äì ${fmt(max)}`;
      if (min) return `a partir de ${fmt(min)}`;
      return `at√© ${fmt(max)}`;
    }

    function projectCardHTML(p, buttonText = "Ver detalhes"){
      const statusClass = p.status === "open" ? "badge-open" : "badge-closed";
      const statusText = p.status === "open" ? "ABERTO" : "ENCERRADO";

      const chips = (p.skills || []).slice(0, 4).map(s => `<span class="chip">${escapeHtml(s)}</span>`).join("");

      return `
        <div class="project-card">
          <div class="top-line"></div>
          <div class="p-5">
            <div class="flex items-center justify-between gap-3">
              <span class="${statusClass}">${statusText}</span>
              <span class="chip">${escapeHtml(p.category || "Geral")}</span>
            </div>

            <h4 class="text-xl font-extrabold mt-3 text-gray-100">${escapeHtml(p.title)}</h4>
            <p class="text-gray-300 text-sm mt-2 leading-relaxed">${escapeHtml(p.short || "")}</p>

            <div class="mt-3 flex flex-wrap gap-2">
              <span class="chip">${escapeHtml(p.type || "Remoto")}</span>
              <span class="chip">${escapeHtml(p.level || "Intermedi√°rio")}</span>
              <span class="chip">${escapeHtml(p.deadline || "Prazo flex√≠vel")}</span>
            </div>

            <div class="mt-4 flex items-center justify-between gap-3">
              <div>
                <div class="text-xs text-gray-300">Or√ßamento</div>
                <div class="text-sm font-extrabold gradient-text">${formatBRL(p.budgetMin, p.budgetMax)}</div>
              </div>

              <button class="btn-astro px-4 py-2 rounded-full font-extrabold text-sm btnDetails" data-id="${escapeHtml(p.id)}">
                ${buttonText}
              </button>
            </div>

            <div class="mt-4 flex flex-wrap gap-2">
              ${chips || `<span class="chip">Asthro style</span>`}
            </div>
          </div>
        </div>
      `;
    }

    function renderPublicProjects(list){
      publicProjectsGrid.innerHTML = "";
      if (!list.length){
        publicEmpty.classList.remove('hidden');
        return;
      }
      publicEmpty.classList.add('hidden');

      list.forEach(p => {
        publicProjectsGrid.insertAdjacentHTML('beforeend', projectCardHTML(p, "Detalhes"));
      });

      attachDetailsEvents();
    }

    function renderMemberProjects(list){
      projectsGrid.innerHTML = "";
      if (!list.length){
        projectsEmpty.classList.remove('hidden');
        return;
      }
      projectsEmpty.classList.add('hidden');

      list.forEach(p => {
        projectsGrid.insertAdjacentHTML('beforeend', projectCardHTML(p, "Abrir"));
      });

      attachDetailsEvents();
    }

    function attachDetailsEvents(){
      document.querySelectorAll('.btnDetails').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-id');
          const p = allProjects.find(x => x.id === id);
          if (!p) return;
          openProjectModal(p);
        });
      });
    }

    // ====== 9) MODAL PROJETO ======
    function openProjectModal(p){
      currentProject = p;

      modalStatus.className = p.status === "open" ? "badge-open" : "badge-closed";
      modalStatus.textContent = p.status === "open" ? "ABERTO" : "ENCERRADO";

      modalCategory.textContent = p.category || "Geral";
      modalType.textContent = p.type || "Remoto";
      modalLevel.textContent = p.level || "Intermedi√°rio";

      modalTitle.textContent = p.title || "";
      modalShort.textContent = p.short || "";
      modalDescription.textContent = p.description || "";
      modalBudget.textContent = formatBRL(p.budgetMin, p.budgetMax);
      modalDeadline.textContent = p.deadline || "Prazo flex√≠vel";

      modalSkills.innerHTML = "";
      (p.skills || []).forEach(s => {
        modalSkills.insertAdjacentHTML('beforeend', `<span class="chip">${escapeHtml(s)}</span>`);
      });
      if (!(p.skills || []).length) {
        modalSkills.insertAdjacentHTML('beforeend', `<span class="chip">Asthro standard</span>`);
      }

      // Bot√µes conforme login
      if (!currentUser) {
        btnApplyProject.classList.add('hidden');
        btnOpenAuthInsideModal.classList.remove('hidden');
      } else {
        btnApplyProject.classList.remove('hidden');
        btnOpenAuthInsideModal.classList.add('hidden');
      }

      openModal(projectModal);
    }

    // ====== 10) FILTROS ======
    function applyFilters(){
      const txt = (searchInput.value || "").toLowerCase().trim();
      const cat = categoryFilter.value;
      const lvl = levelFilter.value;
      const typ = typeFilter.value;

      const filtered = allProjects.filter(p => {
        const matchTxt = !txt || (
          (p.title || "").toLowerCase().includes(txt) ||
          (p.short || "").toLowerCase().includes(txt) ||
          (p.description || "").toLowerCase().includes(txt) ||
          (p.skills || []).join(" ").toLowerCase().includes(txt)
        );
        const matchCat = !cat || p.category === cat;
        const matchLvl = !lvl || p.level === lvl;
        const matchTyp = !typ || p.type === typ;
        return matchTxt && matchCat && matchLvl && matchTyp;
      });

      renderMemberProjects(filtered);
      showToast("Filtros aplicados ‚úî");
    }

    btnApplyFilters.addEventListener('click', applyFilters);
    btnClearFilters.addEventListener('click', () => {
      searchInput.value = "";
      categoryFilter.value = "";
      levelFilter.value = "";
      typeFilter.value = "";
      renderMemberProjects(allProjects);
      showToast("Filtros limpos ‚úî");
    });

    // ====== 11) INSCRI√á√ÉO EM PROJETO ======
    btnApplyProject.addEventListener('click', async () => {
      if (!currentUser) {
        showToast("Fa√ßa login para se inscrever.");
        return;
      }
      if (!currentProject) return;

      if (currentProject.status !== "open") {
        showToast("Este projeto est√° encerrado.");
        return;
      }

      const message = (applyMessage.value || "").trim();
      const portfolio = (applyPortfolio.value || "").trim();

      try {
        if (!isFirebaseReady) {
          // DEMO
          showToast("Inscri√ß√£o enviada (DEMO) ‚úî");
          applyMessage.value = "";
          applyPortfolio.value = "";
          closeModal(projectModal);
          return;
        }

        await addDoc(collection(db, "applications"), {
          userId: currentUser.uid,
          userEmail: currentUser.email || "",
          userName: currentUser.displayName || "",
          projectId: currentProject.id,
          projectTitle: currentProject.title || "",
          portfolio: portfolio || "",
          message: message || "",
          createdAt: serverTimestamp(),
          status: "sent"
        });

        showToast("Inscri√ß√£o enviada com sucesso ‚úî");
        applyMessage.value = "";
        applyPortfolio.value = "";
        closeModal(projectModal);

        await loadMyApplications();
        await updateStats();

      } catch (err) {
        console.error(err);
        showToast("Erro ao enviar inscri√ß√£o. Verifique regras do Firebase.");
      }
    });

    // ====== 12) PERFIL ======
    function setPreview(){
      const nm = profileName.value.trim() || "Seu nome aqui";
      const rl = profileRole.value.trim() || "Sua √°rea aqui";
      const pf = profilePortfolio.value.trim();
      const sk = profileSkills.value.trim();
      const bio = profileBio.value.trim() || "Uma bio bem escrita te destaca. Mostre sua for√ßa: est√©tica, t√©cnica e entrega.";

      previewName.textContent = nm;
      previewRole.textContent = rl;
      previewBio.textContent = bio;

      previewChips.innerHTML = "";
      const skillsArr = sk ? sk.split(",").map(s => s.trim()).filter(Boolean) : [];
      skillsArr.slice(0, 6).forEach(s => previewChips.insertAdjacentHTML('beforeend', `<span class="chip">${escapeHtml(s)}</span>`));
      if (!skillsArr.length) {
        previewChips.insertAdjacentHTML('beforeend', `<span class="chip">skills</span>`);
        previewChips.insertAdjacentHTML('beforeend', `<span class="chip">Asthro standard</span>`);
      }

      if (pf) {
        previewPortfolio.href = pf;
        previewPortfolio.classList.remove('hidden');
      } else {
        previewPortfolio.classList.add('hidden');
      }
    }

    [profileName, profileRole, profilePortfolio, profileSkills, profileBio].forEach(el => {
      el.addEventListener('input', setPreview);
    });

    btnSaveProfile.addEventListener('click', async () => {
      if (!currentUser) return showToast("Fa√ßa login para salvar seu perfil.");

      const data = {
        name: profileName.value.trim(),
        role: profileRole.value.trim(),
        portfolio: profilePortfolio.value.trim(),
        skills: profileSkills.value.trim(),
        bio: profileBio.value.trim(),
        updatedAt: isFirebaseReady ? serverTimestamp() : new Date().toISOString(),
      };

      try {
        if (!isFirebaseReady) {
          showToast("Perfil salvo (DEMO) ‚úî");
          return;
        }

        await setDoc(doc(db, "freelancers", currentUser.uid), {
          uid: currentUser.uid,
          email: currentUser.email || "",
          displayName: currentUser.displayName || "",
          ...data
        }, { merge: true });

        showToast("Perfil salvo com sucesso ‚úî");
      } catch (err) {
        console.error(err);
        showToast("Erro ao salvar perfil. Verifique regras do Firebase.");
      }
    });

    async function loadProfile(){
      if (!currentUser) return;

      if (!isFirebaseReady) {
        profileName.value = currentUser.displayName || "";
        setPreview();
        return;
      }

      try{
        const ref = doc(db, "freelancers", currentUser.uid);
        const snap = await getDoc(ref);
        if (snap.exists()){
          const d = snap.data();
          profileName.value = d.name || currentUser.displayName || "";
          profileRole.value = d.role || "";
          profilePortfolio.value = d.portfolio || "";
          profileSkills.value = d.skills || "";
          profileBio.value = d.bio || "";
          setPreview();
        } else {
          profileName.value = currentUser.displayName || "";
          setPreview();
        }
      } catch(err){
        console.error(err);
      }
    }

    // ====== 13) MINHAS INSCRI√á√ïES ======
    async function loadMyApplications(){
      appsList.innerHTML = "";
      appsEmpty.classList.add('hidden');

      if (!currentUser){
        appsEmpty.classList.remove('hidden');
        appsEmpty.textContent = "Fa√ßa login para ver suas inscri√ß√µes.";
        return;
      }

      if (!isFirebaseReady) {
        appsEmpty.classList.remove('hidden');
        appsEmpty.textContent = "No modo DEMO, inscri√ß√µes n√£o ficam salvas.";
        return;
      }

      try{
        const q = query(collection(db, "applications"), where("userId","==",currentUser.uid), orderBy("createdAt","desc"));
        const snap = await getDocs(q);
        const items = [];
        snap.forEach(docu => items.push({ id: docu.id, ...docu.data() }));

        if (!items.length){
          appsEmpty.classList.remove('hidden');
          return;
        }

        items.forEach(a => {
          appsList.insertAdjacentHTML('beforeend', `
            <div class="glass-card p-4">
              <div class="flex items-start justify-between gap-3">
                <div>
                  <div class="text-sm text-gray-300">Projeto</div>
                  <div class="text-xl font-extrabold gradient-text mt-1">${escapeHtml(a.projectTitle || "Projeto")}</div>
                  <div class="text-xs text-gray-400 mt-1">Status: ${escapeHtml(a.status || "sent")}</div>
                </div>
                <span class="chip">Inscrito</span>
              </div>
              ${a.message ? `<div class="text-sm text-gray-300 mt-2">Mensagem: ${escapeHtml(a.message)}</div>` : ""}
              ${a.portfolio ? `<div class="text-sm text-gray-300 mt-2">Portf√≥lio: <a class="gradient-text font-extrabold" href="${escapeHtml(a.portfolio)}" target="_blank">abrir</a></div>` : ""}
            </div>
          `);
        });

      } catch(err){
        console.error(err);
        appsEmpty.classList.remove('hidden');
        appsEmpty.textContent = "Erro ao carregar inscri√ß√µes (verifique regras).";
      }
    }

    // ====== 14) STATS ======
    async function updateStats(){
      try{
        const openCount = allProjects.filter(p => p.status === "open").length;
        statOpen.textContent = openCount;

        // s√≥ visual
        statOnline.textContent = String(Math.max(8, openCount * 3 + 11));

        if (!isFirebaseReady){
          statApps.textContent = "--";
          return;
        }

        // Conta inscri√ß√µes (n√£o obrigat√≥rio, mas bonito)
        const snap = await getDocs(collection(db, "applications"));
        statApps.textContent = String(snap.size);
      } catch(e){
        statApps.textContent = "--";
      }
    }

    // ====== 15) LOAD PROJECTS ======
    async function loadProjects(){
      // skeleton
      publicProjectsGrid.innerHTML = "";
      projectsGrid.innerHTML = "";
      publicEmpty.classList.add('hidden');
      projectsEmpty.classList.add('hidden');

      const placeholders = Array.from({ length: 6 }).map(() => `
        <div class="glass-card p-5 animate-pulse">
          <div class="h-4 w-24 bg-white/10 rounded mb-3"></div>
          <div class="h-6 w-3/4 bg-white/10 rounded mb-2"></div>
          <div class="h-4 w-full bg-white/10 rounded mb-2"></div>
          <div class="h-4 w-2/3 bg-white/10 rounded mb-4"></div>
          <div class="h-10 w-36 bg-white/10 rounded-full"></div>
        </div>
      `).join("");

      publicProjectsGrid.innerHTML = placeholders;
      projectsGrid.innerHTML = placeholders;

      // DEMO
      if (!isFirebaseReady){
        allProjects = demoProjects;
        renderPublicProjects(allProjects);
        renderMemberProjects(allProjects);
        await updateStats();
        return;
      }

      // REAL (Firestore)
      try{
        const q = query(collection(db, "projects"), orderBy("createdAt", "desc"));
        const snap = await getDocs(q);
        const items = [];
        snap.forEach(d => items.push({ id: d.id, ...d.data() }));

        // Normaliza campos
        allProjects = items.map(p => ({
          ...p,
          status: p.status || "open",
          skills: Array.isArray(p.skills) ? p.skills : [],
          budgetMin: Number(p.budgetMin || 0) || null,
          budgetMax: Number(p.budgetMax || 0) || null,
        }));

        renderPublicProjects(allProjects.filter(p => p.status === "open"));
        renderMemberProjects(allProjects);

        await updateStats();

      } catch(err){
        console.error(err);
        allProjects = demoProjects;
        renderPublicProjects(allProjects);
        renderMemberProjects(allProjects);
        showToast("Erro no Firestore. Mostrando DEMO.");
      }
    }

    btnPublicRefresh.addEventListener('click', loadProjects);
    btnRefreshProjects.addEventListener('click', loadProjects);

    // ====== 16) TABS ======
    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        tabButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const id = btn.getAttribute('data-tab');

        tabPanels.forEach(p => p.classList.add('hidden'));
        document.getElementById(id).classList.remove('hidden');
      });
    });

    // ====== 17) LOGIN / REGISTER ======
    function clearAuthInputs(){
      authEmail.value = "";
      authPass.value = "";
      authName.value = "";
    }

    function setUserState(user){
      currentUser = user;
      renderUserBox();
    }

    btnAuthMain.addEventListener('click', async () => {
      const email = authEmail.value.trim();
      const pass = authPass.value.trim();
      const name = authName.value.trim();

      if (!email || !pass){
        showToast("Preencha e-mail e senha.");
        return;
      }

      // DEMO MODE
      if (!isFirebaseReady){
        setUserState({ uid:"demo", email, displayName: name || "Freelancer DEMO" });
        closeModal(authModal);
        showToast("Logado (DEMO) ‚úî");
        clearAuthInputs();
        await loadMyApplications();
        await loadProfile();
        return;
      }

      try{
        if (authMode === "login"){
          const cred = await signInWithEmailAndPassword(auth, email, pass);
          setUserState(cred.user);
          closeModal(authModal);
          showToast("Login realizado ‚úî");
          clearAuthInputs();
          await loadMyApplications();
          await loadProfile();
        } else {
          const cred = await createUserWithEmailAndPassword(auth, email, pass);
          if (name){
            await updateProfile(cred.user, { displayName: name });
          }
          setUserState(auth.currentUser);
          closeModal(authModal);
          showToast("Conta criada ‚úî");
          clearAuthInputs();
          await loadMyApplications();
          await loadProfile();
        }
      } catch(err){
        console.error(err);
        showToast("Erro: verifique e-mail/senha ou Firebase.");
      }
    });

    btnGoogle.addEventListener('click', async () => {
      if (!isFirebaseReady){
        setUserState({ uid:"demo", email:"demo@asthro.com", displayName:"Freelancer Google (DEMO)" });
        closeModal(authModal);
        showToast("Logado (DEMO) ‚úî");
        await loadMyApplications();
        await loadProfile();
        return;
      }
      try{
        const provider = new GoogleAuthProvider();
        const cred = await signInWithPopup(auth, provider);
        setUserState(cred.user);
        closeModal(authModal);
        showToast("Login Google ‚úî");
        await loadMyApplications();
        await loadProfile();
      } catch(err){
        console.error(err);
        showToast("Erro no login Google.");
      }
    });

    // Logout
    btnLogout.addEventListener('click', async () => {
      if (!currentUser) return;

      if (!isFirebaseReady){
        setUserState(null);
        showToast("Saiu (DEMO).");
        return;
      }
      try{
        await signOut(auth);
        setUserState(null);
        showToast("Voc√™ saiu.");
      } catch(err){
        console.error(err);
      }
    });

    // Observa auth real
    if (isFirebaseReady){
      onAuthStateChanged(auth, async (user) => {
        setUserState(user);
        if (user){
          await loadMyApplications();
          await loadProfile();
        }
      });
    } else {
      setUserState(null);
    }

    // ====== 18) HELPERS ======
    function escapeHtml(str){
      return String(str || "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // ====== INIT ======
    setAuthMode("login");
    await loadProjects();
    await updateStats();
    setPreview();
  </script>
</body>
</html>
