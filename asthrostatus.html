<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asthro | Acompanhamento de Projeto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@700&family=Manrope:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://i.imgur.com/ZeaGXHD.png">

    <style>
        /* Tipografia Padronizada */
        h2, h3, h4 {
            font-family: 'Archivo', sans-serif;
            opacity: 1 !important;
        }
        p, a, input, textarea, button, .message {
            font-family: 'Manrope', sans-serif;
            font-weight: 400;
        }

        /* 游뚿 NOVO: Estilos do Body e Fundo do Primeiro C칩digo */
        html, body {
            font-family: 'Manrope', sans-serif;
            /* Fundo Gradiente Animado */
            background: linear-gradient(135deg, #111111, #111111);
            background-size: 400% 400%;
            animation: gradientTransition 20s ease-in-out infinite;
            color: #edf1f7;
            margin: 0;
            padding: 0;
            position: relative;
            overflow-x: hidden;
            overflow-y: auto;
            min-height: 100vh; /* Alterado de 100% para 100vh para garantir que o fundo cubra a tela */
            width: 100vw;
            display: flex;
            flex-direction: column; /* Necess치rio para o rodap칠 ficar no fundo */
        }
        
        main {
            flex-grow: 1; /* Permite que o conte칰do principal ocupe o espa칞o restante */
        }

        @keyframes gradientTransition {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Container de Estrelas (Background) */
        .stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            box-shadow: 0 0 5px 1px rgba(255, 255, 255, 0.5);
            opacity: 0.3;
            animation: floatStar 15s infinite ease-in-out;
        }
        .star.purple { background: #6627ff; box-shadow: 0 0 5px 1px rgba(106, 13, 173, 0.5); }
        .star.pink { background: #0bf4ed; box-shadow: 0 0 5px 1px rgba(232, 121, 249, 0.5); }
        .star.white { background: #edf1f7; box-shadow: 0 0 5px 1px rgba(255, 255, 255, 0.5); }
        @keyframes floatStar {
            0% { opacity: 0.3; transform: translate(0, 0); }
            50% { opacity: 0.6; transform: translate(var(--move-x), var(--move-y)); }
            100% { opacity: 0.3; transform: translate(0, 0); }
        }

        /* 游뚿 NOVO: Estilos do Cabe칞alho e Links */
        .brand-name { font-family: 'Great Vibes', cursive; line-height: 2; padding: 1rem; display: block; overflow: visible; font-size: clamp(2rem, 6vw, 2.5rem); }
        .nav-link {
            font-family: 'Manrope', sans-serif;
            position: relative;
            text-decoration: none;
            color: #edf1f7;
            transition: color 0.3s ease;
            font-size: clamp(1rem, 3vw, 1.125rem);
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background: linear-gradient(135deg, #6627ff, #0bf4ed);
            transition: width 0.3s ease;
        }
        .nav-link:hover::after { width: 100%; }
        .nav-link:hover { color: #0bf4ed; }
        .gradient-text {
            background: linear-gradient(135deg, #6627ff, #0bf4ed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 10;
            background: transparent;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 0 1rem;
            box-sizing: border-box;
        }
        nav > div { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        nav .flex.items-center.content-layer:last-child { margin-left: auto; }
        
        /* 游뚿 NOVO: Estilo para a barra de progresso (Manuten칞칚o do seu estilo, apenas ajustado para o fundo) */
        .status-bar { height: 10px; background-color: #374151; border-radius: 5px; overflow: hidden; margin-top: 1rem; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #6627ff, #0bf4ed); transition: width 0.5s ease; }
        
        /* 游뚿 NOVO: Estilo para o bot칚o de busca para aplicar a pulsa칞칚o do c칩digo 1 */
        @keyframes colorPulse {
            0% { background-color: #6627ff; }
            50% { background-color: #0bf4ed; }
            100% { background-color: #6627ff; }
        }
        .search-button {
            /* Cor de fundo base (Violeta C칩smico para fallback) */
            background: #6627ff;
            /* Aplica칞칚o da pulsa칞칚o de cor sutil (5 segundos) */
            animation: colorPulse 5s infinite ease-in-out;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
        }
        .search-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 39, 255, 0.6);
            animation: none; /* Desativa a pulsa칞칚o no hover */
            background: #0bf4ed; /* Azul Prisma no hover */
        }
        
        /* 游뚿 NOVO: Estilos do Mobile (Copiados do C칩digo 1) */
        .hamburger { display: none; flex-direction: column; justify-content: space-around; width: 2rem; height: 2rem; background: transparent; border: none; cursor: pointer; padding: 0; z-index: 40; }
        .hamburger span { width: 100%; height: 3px; background: #edf1f7; transition: all 0.3s ease; }
        .hamburger.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }
        .nav-menu-mobile { display: none; }
        .mobile-menu-logo { display: none; width: 80%; max-width: 150px; height: auto; filter: drop-shadow(0 0 5px rgba(102, 39, 255, 0.4)); }

        @media (max-width: 768px) {
            nav { background: rgba(17, 17, 17, 0.95); padding: 0.5rem 1rem; width: 100%; box-sizing: border-box; }
            .mobile-menu-logo { display: block; margin-top: 3rem; }
            nav .flex.items-center.space-x-6 { display: none; }
            .hamburger { display: flex; }
            .nav-menu-mobile {
                position: fixed; top: 0; right: -100%; height: 100vh; width: 100%; max-width: 300px;
                background: rgba(17, 17, 17, 0.9);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border-left: 1px solid rgba(102, 39, 255, 0.5);
                flex-direction: column; justify-content: center; align-items: center; gap: 1.5rem;
                transition: right 0.3s ease; z-index: 30; display: flex; box-sizing: border-box;
                padding: 0 1rem; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
            }
            .nav-menu-mobile.active { right: 0; }
            .brand-name { font-size: clamp(1.75rem, 8vw, 2rem); padding: 0.5rem; }
            .nav-menu-mobile .nav-link {
                display: block; width: 90%; padding: 0.8rem 1.5rem; border-radius: 0.75rem;
                background: rgba(102, 39, 255, 0.1); color: #f8f8f8; text-align: center;
                font-size: clamp(1.125rem, 4vw, 1.3rem); font-weight: 600;
                border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(5px);
                -webkit-backdrop-filter: blur(5px); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
                transition: all 0.3s ease;
            }
            .nav-menu-mobile .nav-link:hover {
                background: linear-gradient(135deg, rgba(102, 39, 255, 0.3), rgba(11, 244, 237, 0.3));
                transform: translateY(-4px) scale(1.02);
                box-shadow: 0 8px 16px rgba(11, 244, 237, 0.6);
                border-color: #0bf4ed;
            }
            .nav-menu-mobile .nav-link::after { display: none; }
            
            /* Ajuste o padding do body/main para considerar o nav fixo */
            body.p-8 { padding-top: 5rem; }
            .content-layer { margin-top: 5rem; }
        }

        /* Garantir que todos os elementos de conte칰do estejam acima das estrelas */
        .content-layer { position: relative; z-index: 2; }
    </style>
</head>
<body class="text-gray-100">
    <div class="stars-container" id="stars-container"></div>

    <nav class="shadow-lg fixed w-full z-10">
        <div class="flex justify-between h-16 items-center">
            <div class="flex items-center content-layer">
                <img src="https://i.imgur.com/sE44ypp.png" alt="Logo da Asthro" class="h-40 md:h-40" />
            </div>
            <button class="hamburger" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="flex items-center space-x-6 content-layer desktop-nav">
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/index.html" class="nav-link text-lg transition">In칤cio</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/servi%C3%A7os.html" class="nav-link text-lg transition">Servi칞os</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/sobre.html" class="nav-link text-lg transition">Sobre</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/portf%C3%B3lio.html" class="nav-link text-lg transition">Portf칩lio</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/contato.html" class="nav-link text-lg transition">Contato</a>
            </div>
            <div class="nav-menu-mobile content-layer">
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/index.html" class="nav-link text-lg transition block">In칤cio</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/servi%C3%A7os.html" class="nav-link text-lg transition block">Servi칞os</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/sobre.html" class="nav-link text-lg transition block">Sobre</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/portf%C3%B3lio.html" class="nav-link text-lg transition block">Portf칩lio</a>
                <a href="https://mateuszito2024.github.io/Cria-o-de-Sites/contato.html" class="nav-link text-lg transition block">Contato</a>
                <img src="https://i.imgur.com/sE44ypp.png" alt="Asthro" class="mobile-menu-logo" />
            </div>
        </div>
    </nav>

    <main class="content-layer pt-24 pb-8"> <header class="text-center mb-12">
            <h1 class="text-4xl font-bold gradient-text" style="font-family: 'Archivo', sans-serif;">Acompanhamento de Projeto</h1>
            <p class="text-lg mt-2">Insira o ID do seu projeto para ver o status atualizado em tempo real.</p>
        </header>

        <div class="max-w-xl mx-auto p-6 rounded-xl bg-gray-900 neon-border">
            <div id="project-search">
                <label for="projectId" class="block text-sm font-medium text-gray-400 mb-2">ID do Projeto:</label>
                <div class="flex space-x-4">
                    <input type="text" id="projectId" placeholder="Ex: ASTHRO-001" class="flex-grow p-3 rounded-lg bg-gray-800 text-white border-gray-600 focus:ring-purple-500 focus:border-purple-500">
                    <button onclick="fetchProjectStatus()" class="search-button text-white font-semibold py-3 px-6 rounded-lg transition duration-300">Buscar</button>
                </div>
                <p id="search-feedback" class="mt-4 text-red-400 hidden">Projeto n칚o encontrado.</p>
            </div>

            <div id="project-details" class="mt-8 hidden">
                <h2 class="text-3xl font-bold gradient-text mb-4" id="projectName"></h2>
                
                <div class="space-y-4 text-left">
                    <p class="text-sm text-gray-400">Progresso:</p>
                    <div class="status-bar">
                        <div id="progressBar" class="progress-fill" style="width: 0%;"></div>
                    </div>
                    <div id="statusLabels" class="flex justify-between mt-1 text-xs text-gray-400">
                        <span>In칤cio</span>
                        <span>Andamento</span>
                        <span>Revis칚o</span>
                        <span>Conclu칤do</span>
                    </div>

                    <div class="border-t border-gray-700 pt-4">
                        <p class="text-md font-semibold text-gray-300">Etapa Atual:</p>
                        <p id="currentStatus" class="text-xl text-white"></p>
                    </div>

                    <div class="border-t border-gray-700 pt-4">
                        <p class="text-md font-semibold text-gray-300">Previs칚o de Entrega:</p>
                        <p id="deliveryDate" class="text-lg text-yellow-400"></p>
                    </div>

                    <div class="border-t border-gray-700 pt-4">
                        <p class="text-md font-semibold text-gray-300">Notas do Consultor:</p>
                        <p id="notes" class="text-md text-gray-400 italic"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-gray-200 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 content-layer">
            <p>춸 2025 Asthro. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // L칍GICA DO FIREBASE (INTACTA)
        const FIREBASE_CONFIG = {
            apiKey: "AIzaSyBb8jAT-VR5723XaxZnH4jcw-PxOlRKn8w",
            authDomain: "asthro-status-tracker.firebaseapp.com",
            projectId: "asthro-status-tracker",
            storageBucket: "asthro-status-tracker.firebasestorage.app",
            messagingSenderId: "1023071296327",
            appId: "1:1023071296327:web:477b39bd6d846fff148a62"
        };
        
        firebase.initializeApp(FIREBASE_CONFIG);
        const db = firebase.firestore();

        const statusMap = {
            'setup': { name: 'Setup Inicial', percent: 10 },
            'design_andamento': { name: 'Design e Cria칞칚o', percent: 35 },
            'dev_andamento': { name: 'Desenvolvimento em Andamento', percent: 65 },
            'revisao_cliente': { name: 'Revis칚o do Cliente', percent: 85 },
            'concluido': { name: 'Conclu칤do e Entregue', percent: 100 }
        };

        async function fetchProjectStatus() {
            const projectIdInput = document.getElementById('projectId').value.trim().toUpperCase();
            const searchFeedback = document.getElementById('search-feedback');
            const detailsDiv = document.getElementById('project-details');

            searchFeedback.classList.add('hidden');
            detailsDiv.classList.add('hidden');

            if (!projectIdInput) return;

            try {
                const docRef = db.collection('projects').doc(projectIdInput);
                const doc = await docRef.get();

                if (doc.exists) {
                    const data = doc.data();
                    updateUI(data);
                } else {
                    searchFeedback.textContent = `Projeto com ID "${projectIdInput}" n칚o encontrado. Verifique o ID.`;
                    searchFeedback.classList.remove('hidden');
                }
            } catch (error) {
                console.error("Erro ao buscar o projeto:", error);
                searchFeedback.textContent = "Erro de conex칚o. Tente novamente.";
                searchFeedback.classList.remove('hidden');
            }
        }

        function updateUI(data) {
            const statusInfo = statusMap[data.status] || statusMap['setup'];
            
            document.getElementById('projectName').textContent = data.clientName || 'Projeto sem nome';
            document.getElementById('currentStatus').textContent = statusInfo.name;
            document.getElementById('deliveryDate').textContent = data.deliveryDate || 'Em breve';
            document.getElementById('notes').textContent = data.notes || 'Nenhuma nota recente.';
            
            document.getElementById('progressBar').style.width = `${statusInfo.percent}%`;
            
            document.getElementById('project-details').classList.remove('hidden');
        }

        // L칍GICA DO MENU MOBILE E ESTRELAS (Copiado do C칩digo 1)
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu-mobile');
        
        function toggleMenu() {
            if(hamburger && navMenu){
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
                document.body.style.overflowY = navMenu.classList.contains('active') ? 'hidden' : 'auto';
            }
        }

        if (hamburger && navMenu) {
            hamburger.addEventListener('click', toggleMenu);
        }

        const starsContainer = document.getElementById('stars-container');
        function createStars() {
            if (!starsContainer) return;
            // Limpa estrelas existentes para evitar duplica칞칚o ou estouro em redimensionamento
            starsContainer.innerHTML = '';
            const colors = ['purple', 'pink', 'white'];
            const numStars = 150;
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('span');
                star.classList.add('star', colors[Math.floor(Math.random() * colors.length)]);
                star.style.left = `${Math.random() * window.innerWidth}px`;
                star.style.top = `${Math.random() * window.innerHeight}px`;
                const moveX = (Math.random() - 0.5) * 300;
                const moveY = (Math.random() - 0.5) * 300;
                star.style.setProperty('--move-x', `${moveX}px`);
                star.style.setProperty('--move-y', `${moveY}px`);
                star.style.animationDelay = `${Math.random() * 15}s`;
                starsContainer.appendChild(star);
            }
        }
        createStars();
        window.addEventListener('resize', createStars);
        
        // Bloquear clique direito em imagens
        document.addEventListener('contextmenu', function(e) {
            if (e.target.tagName === 'IMG') {
                e.preventDefault();
            }
        }, false);
    </script>
</body>
</html>
