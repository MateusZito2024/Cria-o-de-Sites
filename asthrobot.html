<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  Â  <title>AsthroBot | Consultor de Briefing</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@700&family=Manrope:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
Â  Â  <link rel="icon" type="image/png" href="https://i.imgur.com/ZeaGXHD.png">

Â  Â  <style>
Â  Â  Â  Â  /* Tipografia Padronizada */
Â  Â  Â  Â  h2, h3, h4 {
Â  Â  Â  Â  Â  Â  font-family: 'Archivo', sans-serif;
Â  Â  Â  Â  }
Â  Â  Â  Â  body, p, a, input, textarea, button, .message {
Â  Â  Â  Â  Â  Â  font-family: 'Manrope', sans-serif;
Â  Â  Â  Â  Â  Â  font-weight: 400;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Cores e Fundo */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background: #111111;
Â  Â  Â  Â  Â  Â  color: #edf1f7;
Â  Â  Â  Â  }
Â  Â  Â  Â  .gradient-text {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #6627ff, #0bf4ed);
Â  Â  Â  Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  Â  Â  Â  -webkit-text-fill-color: transparent;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Layout e Chat */
Â  Â  Â  Â  .chat-container {
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  margin: 2rem auto;
Â  Â  Â  Â  Â  Â  background: linear-gradient(160deg, #111111, #1f2937);
Â  Â  Â  Â  Â  Â  border-radius: 1rem;
Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  height: 70vh; /* Aumenta a altura para uma experiÃªncia de consultoria */
Â  Â  Â  Â  Â  Â  min-height: 450px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(102, 39, 255, 0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â  .chat-messages {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  Â  Â  padding: 0.75rem;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 0.75rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .message {
Â  Â  Â  Â  Â  Â  max-width: 85%;
Â  Â  Â  Â  Â  Â  padding: 0.75rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.75rem;
Â  Â  Â  Â  Â  Â  line-height: 1.5;
Â  Â  Â  Â  Â  Â  font-size: 0.95rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .bot-message {
Â  Â  Â  Â  Â  Â  background: #374151;
Â  Â  Â  Â  Â  Â  color: #e2e8f0;
Â  Â  Â  Â  Â  Â  align-self: flex-start;
Â  Â  Â  Â  Â  Â  border-bottom-left-radius: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .user-message {
Â  Â  Â  Â  Â  Â  background: #6627ff;
Â  Â  Â  Â  Â  Â  color: #edf1f7;
Â  Â  Â  Â  Â  Â  align-self: flex-end;
Â  Â  Â  Â  Â  Â  border-bottom-right-radius: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .typing-indicator {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 0.3rem;
Â  Â  Â  Â  Â  Â  align-self: flex-start;
Â  Â  Â  Â  Â  Â  padding: 0.5rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .typing-indicator span {
Â  Â  Â  Â  Â  Â  width: 6px;
Â  Â  Â  Â  Â  Â  height: 6px;
Â  Â  Â  Â  Â  Â  background: #0bf4ed;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  animation: bounce 0.6s infinite alternate;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes bounce {
Â  Â  Â  Â  Â  Â  from { transform: translateY(0); }
Â  Â  Â  Â  Â  Â  to { transform: translateY(-5px); }
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes colorPulse {
Â  Â  Â  Â  Â  Â  0% { background-color: #6627ff; }
Â  Â  Â  Â  Â  Â  50% { background-color: #0bf4ed; }
Â  Â  Â  Â  Â  Â  100% { background-color: #6627ff; }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Input e BotÃµes */
Â  Â  Â  Â  .chat-input {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 0.5rem;
Â  Â  Â  Â  Â  Â  padding-top: 0.75rem;
Â  Â  Â  Â  Â  Â  border-top: 1px solid #6627ff;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  flex-wrap: nowrap;
Â  Â  Â  Â  }
Â  Â  Â  Â  .chat-input textarea {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  Â  Â  padding: 0.5rem;
Â  Â  Â  Â  Â  Â  background: #374151;
Â  Â  Â  Â  Â  Â  color: #e2e8f0;
Â  Â  Â  Â  Â  Â  border: 1px solid #6627ff;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  Â  Â  resize: none;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  min-width: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .chat-input button {
Â  Â  Â  Â  Â  Â  background: #0bf4ed;
Â  Â  Â  Â  Â  Â  animation: colorPulse 5s infinite ease-in-out;Â 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 0.5rem 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .chat-input button:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-3px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(11, 244, 237, 0.6);
Â  Â  Â  Â  Â  Â  animation: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Mic Button */
Â  Â  Â  Â  .mic-button {
Â  Â  Â  Â  Â  Â  background: #6627ff;
Â  Â  Â  Â  Â  Â  animation: colorPulse 3s infinite ease-in-out;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 0.5rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }
Â  Â  Â  Â  .mic-button.recording {
Â  Â  Â  Â  Â  Â  background: #0bf4ed;Â 
Â  Â  Â  Â  Â  Â  transform: scale(1.1);
Â  Â  Â  Â  Â  Â  animation: none;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .mic-button svg {
Â  Â  Â  Â  Â  Â  pointer-events: none; /* Deixa o evento passar para o botÃ£o pai */
Â  Â  Â  Â  Â  Â  width: 20px;
Â  Â  Â  Â  Â  Â  height: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Responsividade */
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .chat-container {
Â  Â  Â  Â  Â  Â  Â  Â  width: 95%;
Â  Â  Â  Â  Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  Â  Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  Â  Â  Â  Â  Â  height: 75vh;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <header class="text-center py-4 bg-gray-900 shadow-lg">
Â  Â  Â  Â  <h1 class="text-3xl font-bold gradient-text" style="font-family: 'Archivo', sans-serif;">AsthroBot Consultor</h1>
Â  Â  Â  Â  <p class="text-sm text-gray-400 mt-1">AnÃ¡lise de Briefing e EstratÃ©gia por IA.</p>
Â  Â  </header>

Â  Â  <div class="chat-container">
Â  Â  Â  Â  <div class="chat-messages" id="chatMessages"></div>
Â  Â  Â  Â  <div class="chat-input" id="chatInput">
Â  Â  Â  Â  Â  Â  <textarea id="userInput" placeholder="Descreva sua ideia de negÃ³cio ou marque 'Iniciar'..." rows="1" onkeypress="handleKeyPress(event)"></textarea>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button class="mic-button" id="micButton" title="Segure para gravar" onmousedown="startRecording(event)" onmouseup="stopRecording()" ontouchstart="startRecording(event)" ontouchend="stopRecording()">
Â  Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5zm6 6c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.47 6 6.93V22h2v-3.07c3.39-.46 6-3.4 6-6.93h-2z"/>
Â  Â  Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  <button onclick="sendMessage()">Enviar</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <script>
Â  Â  Â  Â  // ============== CONFIGURAÃ‡ÃƒO DA API GEMINI E PERSONA ==================
Â  Â  Â  Â  const GEMINI_API_KEY = "AIzaSyBq9kBfP3SLKcb7oBEfQiOr4DJh3ACei18"; // ðŸš¨ SUBSTITUA PELA SUA CHAVE REAL!
Â  Â  Â  Â  const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=" + GEMINI_API_KEY;

Â  Â  Â  Â  const SYSTEM_PROMPT = `
Â  Â  Â  Â  Â  Â  VocÃª Ã© o AsthroBot, um Consultor SÃªnior de Branding, Design e Desenvolvimento Web para a agÃªncia Asthro.
Â  Â  Â  Â  Â  Â  Sua missÃ£o Ã© atuar como um filtro e consultor inicial para novos leads, avaliando a qualidade do briefing.
Â  Â  Â  Â  Â  Â  A conversa deve ser uma anÃ¡lise de briefing, nÃ£o um chat livre.
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  1. No inÃ­cio (apÃ³s a saudaÃ§Ã£o), peÃ§a ao usuÃ¡rio para fornecer o briefing, a ideia ou o nome da marca.
Â  Â  Â  Â  Â  Â  2. Analise a entrada do usuÃ¡rio em 3 Ã¡reas: **VisÃ£o** (Metas e pÃºblico), **Identidade** (Nome, logo, tom) e **Necessidades TÃ©cnicas** (Site, e-commerce, trÃ¡fego).
Â  Â  Â  Â  Â  Â  3. Responda com uma anÃ¡lise concisa e use a hashtag #AsthroBot.
Â  Â  Â  Â  Â  Â  4. **IMPORTANTE:** A cada resposta, formule uma **pergunta estratÃ©gica aberta** para o usuÃ¡rio, que o force a refinar o briefing. Por exemplo: "Que tipo de emoÃ§Ã£o sua marca deve evocar?" ou "Quais sÃ£o as trÃªs principais mÃ©tricas de sucesso do seu site?".
Â  Â  Â  Â  Â  Â  5. Mantenha as respostas profissionais, criativas e encorajadoras.
Â  Â  Â  Â  Â  Â  6. Se o usuÃ¡rio tentar sair do tÃ³pico de briefing, guie-o de volta gentilmente.
Â  Â  Â  Â  `;

Â  Â  Â  Â  // =====================================================================
Â  Â  Â  Â  // ======================= LÃ“GICA DO CHAT ==============================
Â  Â  Â  Â  // =====================================================================
Â  Â  Â  Â Â 
Â  Â  Â  Â  let chatMessages = document.getElementById('chatMessages');
Â  Â  Â  Â  let userInput = document.getElementById('userInput');
Â  Â  Â  Â  let micButton = document.getElementById('micButton');
Â  Â  Â  Â Â 
Â  Â  Â  Â  let chatHistory = [{ role: "system", parts: [{ text: SYSTEM_PROMPT }] }];
Â  Â  Â  Â  let isBotTyping = false;
Â  Â  Â  Â  let pressTimeout = null;

Â  Â  Â  Â  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
Â  Â  Â  Â  let recognition = null;
Â  Â  Â  Â  let isRecording = false;

Â  Â  Â  Â  // --- UI UTILS ---
Â  Â  Â  Â  function addMessage(text, type) {
Â  Â  Â  Â  Â  Â  const messageElement = document.createElement('div');
Â  Â  Â  Â  Â  Â  messageElement.classList.add('message', `${type}-message`);
Â  Â  Â  Â  Â  Â  messageElement.textContent = text;
Â  Â  Â  Â  Â  Â  chatMessages.appendChild(messageElement);
Â  Â  Â  Â  Â  Â  scrollToBottom();
Â  Â  Â  Â  }

Â  Â  Â  Â  function showTypingIndicator() {
Â  Â  Â  Â  Â  Â  if (isBotTyping) return;
Â  Â  Â  Â  Â  Â  isBotTyping = true;
Â  Â  Â  Â  Â  Â  const typingElement = document.createElement('div');
Â  Â  Â  Â  Â  Â  typingElement.id = 'typingIndicator';
Â  Â  Â  Â  Â  Â  typingElement.classList.add('typing-indicator');
Â  Â  Â  Â  Â  Â  typingElement.innerHTML = '<span></span><span></span><span></span>';
Â  Â  Â  Â  Â  Â  chatMessages.appendChild(typingElement);
Â  Â  Â  Â  Â  Â  scrollToBottom();
Â  Â  Â  Â  }

Â  Â  Â  Â  function removeTypingIndicator() {
Â  Â  Â  Â  Â  Â  const typingElement = document.getElementById('typingIndicator');
Â  Â  Â  Â  Â  Â  if (typingElement) typingElement.remove();
Â  Â  Â  Â  Â  Â  isBotTyping = false;
Â  Â  Â  Â  }

Â  Â  Â  Â  function scrollToBottom() {
Â  Â  Â  Â  Â  Â  if (chatMessages) chatMessages.scrollTop = chatMessages.scrollHeight;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- SPEECH RECOGNITION (LÃ³gica corrigida e simplificada) ---
Â  Â  Â  Â  if (SpeechRecognition) {
Â  Â  Â  Â  Â  Â  recognition = new SpeechRecognition();
Â  Â  Â  Â  Â  Â  recognition.lang = 'pt-BR';
Â  Â  Â  Â  Â  Â  recognition.interimResults = false;

Â  Â  Â  Â  Â  Â  recognition.onresult = function(event) {
Â  Â  Â  Â  Â  Â  Â  Â  const transcript = event.results[0][0].transcript;
Â  Â  Â  Â  Â  Â  Â  Â  userInput.value = transcript;
Â  Â  Â  Â  Â  Â  Â  Â  sendMessage();
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  recognition.onend = function() {
Â  Â  Â  Â  Â  Â  Â  Â  isRecording = false;
Â  Â  Â  Â  Â  Â  Â  Â  micButton.classList.remove('recording');
Â  Â  Â  Â  Â  Â  Â  Â  userInput.placeholder = "Descreva sua ideia de negÃ³cio ou marque 'Iniciar'...";
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Corrige o problema de eventos de mouse/toque no Ã­cone SVG
Â  Â  Â  Â  Â  Â  if (micButton && micButton.querySelector('svg')) {
Â  Â  Â  Â  Â  Â  Â  Â  micButton.querySelector('svg').style.pointerEvents = 'none';
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  if (micButton) micButton.style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  function startRecording(event) {
Â  Â  Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  Â  Â  if (!recognition || isRecording || isBotTyping) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Usa setTimeout para garantir que o evento de "segurar" seja registrado
Â  Â  Â  Â  Â  Â  if (pressTimeout) clearTimeout(pressTimeout);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  pressTimeout = setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  recognition.start();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isRecording = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  micButton.classList.add('recording');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userInput.placeholder = "Gravando... Fale agora!";
Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error starting recognition:', e);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isRecording = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  micButton.classList.remove('recording');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userInput.placeholder = "Descreva sua ideia de negÃ³cio ou marque 'Iniciar'...";
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, 100);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function stopRecording() {
Â  Â  Â  Â  Â  Â  if (!recognition || !isRecording) return;
Â  Â  Â  Â  Â  Â  recognition.stop();
Â  Â  Â  Â  Â  Â  if (pressTimeout) clearTimeout(pressTimeout);
Â  Â  Â  Â  Â  Â  isRecording = false;
Â  Â  Â  Â  Â  Â  micButton.classList.remove('recording');
Â  Â  Â  Â  Â  Â  userInput.placeholder = "Descreva sua ideia de negÃ³cio ou marque 'Iniciar'...";
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- LOGIC GESTÃƒO DE CHAT E API ---
Â  Â  Â  Â  function handleKeyPress(event) {
Â  Â  Â  Â  Â  Â  if (event.key === 'Enter' && !event.shiftKey) {
Â  Â  Â  Â  Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  sendMessage();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function sendMessage() {
Â  Â  Â  Â  Â  Â  if (isBotTyping) return;
Â  Â  Â  Â  Â  Â  const userText = userInput.value.trim();
Â  Â  Â  Â  Â  Â  if (!userText) return;

Â  Â  Â  Â  Â  Â  addMessage(userText, 'user');
Â  Â  Â  Â  Â  Â  userInput.value = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Adiciona a mensagem do usuÃ¡rio ao histÃ³rico ANTES de chamar a API
Â  Â  Â  Â  Â  Â  chatHistory.push({ role: "user", parts: [{ text: userText }] });

Â  Â  Â  Â  Â  Â  callGeminiAPI();
Â  Â  Â  Â  }

Â  Â  Â  Â  async function callGeminiAPI() {
Â  Â  Â  Â  Â  Â  showTypingIndicator();

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(API_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  contents: chatHistory,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  config: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  systemInstruction: SYSTEM_PROMPT,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  temperature: 0.7Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const errorData = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(`API Error: ${response.status} - ${errorData.error.message}`);
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  const botResponse = data.candidates[0]?.content?.parts[0]?.text || "Desculpe, nÃ£o consegui processar a resposta.";
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  removeTypingIndicator();
Â  Â  Â  Â  Â  Â  Â  Â  addMessage(botResponse, 'bot');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Adiciona a resposta do bot ao histÃ³rico
Â  Â  Â  Â  Â  Â  Â  Â  chatHistory.push({ role: "model", parts: [{ text: botResponse }] });

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Erro na comunicaÃ§Ã£o com a API Gemini:", error);
Â  Â  Â  Â  Â  Â  Â  Â  removeTypingIndicator();
Â  Â  Â  Â  Â  Â  Â  Â  addMessage("Desculpe, AsthroBot estÃ¡ fora do ar. Por favor, tente novamente mais tarde ou contate-nos via WhatsApp.", 'bot');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- INICIALIZAÃ‡ÃƒO ---
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  // Inicia a conversa
Â  Â  Â  Â  Â  Â  addMessage("OlÃ¡! Eu sou o AsthroBot, seu Consultor de Briefing. Para comeÃ§armos nossa anÃ¡lise, por favor, me diga: Qual Ã© a sua ideia de negÃ³cio, o nome da marca ou o objetivo do seu projeto?", 'bot');
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
